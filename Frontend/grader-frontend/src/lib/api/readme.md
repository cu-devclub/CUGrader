# API client

Contents under `./generated` are auto-generated by `openapi-generator-cli`. Do not edit them manually. You can generate them from the OpenAPI definitions file (`openapi.yaml`) using the command below.

```bash
npm run openapi:generate-client
```

# Mocking
Set these environment variables if you want to mock the api. Set `NEXT_PUBLIC_MOCK_PRESERVE_STATE` to true if you want to persist data state between refresh (using localStorage and [Origin private file system](https://developer.mozilla.org/en-US/docs/Web/API/File_System_API/Origin_private_file_system)).


```conf
NEXT_PUBLIC_USE_MOCK_API=true
NEXT_PUBLIC_MOCK_PRESERVE_STATE=false
```

Note that this will make react yell at us for causing hydration mismatch. We cant do anything about it unless we save everything server side.

## Known issues
- At `/instructor`, on initial page load, the `src` property of class card header image are not repatch by react hydration process. It will correct itself after doing some client side navigation (e.g. click a link to go to another page then come back)
- No permission checking (yet)

